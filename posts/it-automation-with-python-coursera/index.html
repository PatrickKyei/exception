<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="IT Automation With Python" /><meta name="author" content="Patrick Kyei" /><meta property="og:locale" content="en" /><meta name="description" content="I will document this properly in the appropriate time." /><meta property="og:description" content="I will document this properly in the appropriate time." /><link rel="canonical" href="https://patrickkyei.com/posts/it-automation-with-python-coursera/" /><meta property="og:url" content="https://patrickkyei.com/posts/it-automation-with-python-coursera/" /><meta property="og:site_name" content="Patrick Kyei" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-11-16T11:27:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="IT Automation With Python" /><meta name="twitter:site" content="@thepatrickkyei" /><meta name="twitter:creator" content="@Patrick Kyei" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Patrick Kyei"},"dateModified":"2023-09-27T19:58:21+00:00","datePublished":"2022-11-16T11:27:00+00:00","description":"I will document this properly in the appropriate time.","headline":"IT Automation With Python","mainEntityOfPage":{"@type":"WebPage","@id":"https://patrickkyei.com/posts/it-automation-with-python-coursera/"},"url":"https://patrickkyei.com/posts/it-automation-with-python-coursera/"}</script><title>IT Automation With Python | Patrick Kyei</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Patrick Kyei"><meta name="application-name" content="Patrick Kyei"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"><body><div id="fb-root"></div><div id="fb-customer-chat" class="fb-customerchat"></div><script> var chatbox = document.getElementById('fb-customer-chat'); chatbox.setAttribute("page_id", "105512498005912"); chatbox.setAttribute("attribution", "biz_inbox"); </script> <script> window.fbAsyncInit = function() { FB.init({ xfbml: true, version: 'v17.0' }); }; (function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js'; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk')); </script><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="/assets/img/avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><h1 class="site-title"> <a href="/">Patrick Kyei</a></h1><p class="site-subtitle fst-italic mb-0">Expand the collective consciousness</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/letters/" class="nav-link"> <i class="fa-fw fas fa-newspaper"></i> <span>LETTERS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <a href="javascript:location.href = 'mailto:' + ['pkyei804','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://linkedin.com/in/thepatrickkyei" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="https://instagram.com/thepatrickkyei" aria-label="instagram" target="_blank" rel="noopener noreferrer" > <i class="fab fa-instagram"></i> </a> <a href="https://facebook.com/thepatrickkyei" aria-label="facebook" target="_blank" rel="noopener noreferrer" > <i class="fab fa-facebook"></i> </a></div></aside><div id="fb-root"></div><div id="fb-customer-chat" class="fb-customerchat"></div><script> var chatbox = document.getElementById("fb-customer-chat"); chatbox.setAttribute("page_id", "105512498005912"); chatbox.setAttribute("attribution", "biz_inbox"); </script> <script> window.fbAsyncInit = function () { FB.init({ xfbml: true, version: "v17.0", }); }; (function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js"; fjs.parentNode.insertBefore(js, fjs); })(document, "script", "facebook-jssdk"); </script><div id="main-wrapper" class="d-flex justify-content-center"><div class="container px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/"> Home </a> </span> <span>IT Automation With Python</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4" ><article class="px-1"><header><h1 data-toc-skip>IT Automation With Python</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1668598020" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Nov 16, 2022 </time> </span> <span> Updated <time data-ts="1695844701" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Sep 27, 2023 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/thepatrickkyei">Patrick Kyei</a> </em> </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="483 words" > <em>2 min</em> read</span></div></div></header><div class="content"><blockquote><p>I will document this properly in the appropriate time.</p></blockquote><blockquote class="prompt-info"><p><strong>View all quiz results</strong> <a href="https://github.com/PatrickKyei/google-it-automation-module">at the repository here</a></p></blockquote><h2 id="qwiklabs---handling-files">Qwiklabs - Handling Files</h2><div class="language-python highlighter-rouge"><div class="highlight">class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre><td class="rouge-code"><pre>
<span class="c1">#!/usr/bin/env python3
</span>
<span class="kn">import</span> <span class="n">csv</span>

<span class="k">def</span> <span class="nf">read_employees</span><span class="p">(</span><span class="n">csv_file_location</span><span class="p">):</span>
  <span class="n">csv</span><span class="p">.</span><span class="nf">register_dialect</span><span class="p">(</span><span class="sh">'</span><span class="s">empDialect</span><span class="sh">'</span><span class="p">,</span> <span class="n">skipinitialspace</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
  <span class="n">employee_file</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="nc">DictReader</span><span class="p">(</span><span class="nf">open</span><span class="p">(</span><span class="n">csv_file_location</span><span class="p">),</span> <span class="n">dialect</span> <span class="o">=</span> <span class="sh">'</span><span class="s">empDialect</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">employee_list</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">employee_file</span><span class="p">:</span>
    <span class="n">employee_list</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">employee_list</span>

<span class="k">def</span> <span class="nf">process_data</span><span class="p">(</span><span class="n">employee_list</span><span class="p">):</span>
  <span class="n">department_list</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">for</span> <span class="n">employee_data</span> <span class="ow">in</span> <span class="n">employee_list</span><span class="p">:</span>
    <span class="n">department_list</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">employee_data</span><span class="p">[</span><span class="sh">'</span><span class="s">Department</span><span class="sh">'</span><span class="p">])</span>
  
  <span class="n">department_data</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="k">for</span> <span class="n">department_name</span> <span class="ow">in</span> <span class="nf">set</span><span class="p">(</span><span class="n">department_list</span><span class="p">):</span>
    <span class="n">department_data</span><span class="p">[</span><span class="n">department_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">department_list</span><span class="p">.</span><span class="nf">count</span><span class="p">(</span><span class="n">department_name</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">department_data</span>

<span class="k">def</span> <span class="nf">write_report</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">report_file</span><span class="p">):</span>
  <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">report_file</span><span class="p">,</span> <span class="sh">"</span><span class="s">w+</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">dictionary</span><span class="p">):</span>
      <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">+</span><span class="sh">'</span><span class="s">:</span><span class="sh">'</span><span class="o">+</span><span class="nf">str</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="n">k</span><span class="p">])</span><span class="o">+</span><span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>

<span class="n">employee_list</span> <span class="o">=</span> <span class="nf">read_employees</span><span class="p">(</span><span class="sh">'</span><span class="s">/home/&lt;student-lab-id&gt;/data/employees.csv</span><span class="sh">'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">process_data</span><span class="p">(</span><span class="n">employee_list</span><span class="p">):</span>

  <span class="n">department_list</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">for</span> <span class="n">employee_data</span> <span class="ow">in</span> <span class="n">employee_list</span><span class="p">:</span>
    <span class="n">department_list</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">employee_data</span><span class="p">[</span><span class="sh">'</span><span class="s">Department</span><span class="sh">'</span><span class="p">])</span>

  <span class="n">department_data</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="k">for</span> <span class="n">department_name</span> <span class="ow">in</span> <span class="nf">set</span><span class="p">(</span><span class="n">department_list</span><span class="p">):</span>
    <span class="n">department_data</span><span class="p">[</span><span class="n">department_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">department_list</span><span class="p">.</span><span class="nf">count</span><span class="p">(</span><span class="n">department_name</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">department_data</span>

<span class="n">dictionary</span> <span class="o">=</span> <span class="nf">process_data</span><span class="p">(</span><span class="n">employee_list</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">write_report</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="n">report_file</span><span class="p">):</span>
  <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">report_file</span><span class="p">,</span> <span class="sh">"</span><span class="s">w+</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">dictionary</span><span class="p">):</span>
      <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">+</span><span class="sh">'</span><span class="s">:</span><span class="sh">'</span><span class="o">+</span><span class="nf">str</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="n">k</span><span class="p">])</span><span class="o">+</span><span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>

<span class="nf">write_report</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="sh">'</span><span class="s">/home/&lt;student-lab-id&gt;/test_report.txt</span><span class="sh">'</span><span class="p">)</span>
</pre></div></div><p><img src="/assets/img/handling-files-qwiklabs.png" alt="handling-files-qwiklabs" /></p><p><img src="/assets/img/handling-files-qwiklabs-1.png" alt="handling-files-qwiklabs" /></p><p><img src="/assets/img/handling-files-qwiklabs-2.png" alt="handling-files-qwiklabs" /></p><p><img src="/assets/img/handling-files-qwiklabs-3.png" alt="handling-files-qwiklabs" /></p><h2 id="qwiklabls--working-with-regular-expressions">Qwiklabls- Working With Regular Expressions</h2><div class="language-python highlighter-rouge"><div class="highlight">class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre><td class="rouge-code"><pre><span class="c1">#!/usr/bin/env python3
</span>
<span class="c1">#Import libraries
</span><span class="kn">import</span> <span class="n">csv</span>
<span class="kn">import</span> <span class="n">re</span>

<span class="k">def</span> <span class="nf">contains_domain</span><span class="p">(</span><span class="n">address</span><span class="p">,</span> <span class="n">domain</span><span class="p">):</span>
  <span class="sh">"""</span><span class="s">Returns True if the email address contains the given,domain,in the domain position, false if not.</span><span class="sh">"""</span>
  <span class="n">domain</span> <span class="o">=</span> <span class="sa">r</span><span class="sh">'</span><span class="s">[\w\.-]+@</span><span class="sh">'</span><span class="o">+</span><span class="n">domain</span><span class="o">+</span><span class="sh">'</span><span class="s">$</span><span class="sh">'</span>
  <span class="k">if</span> <span class="n">re</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="n">domain</span><span class="p">,</span><span class="n">address</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">True</span>
  <span class="k">return</span> <span class="bp">False</span>
<span class="k">def</span> <span class="nf">replace_domain</span><span class="p">(</span><span class="n">address</span><span class="p">,</span> <span class="n">old_domain</span><span class="p">,</span> <span class="n">new_domain</span><span class="p">):</span>
  <span class="sh">"""</span><span class="s">Replaces the old domain with the new domain in the received address.</span><span class="sh">"""</span>
  <span class="n">old_domain_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="sh">''</span> <span class="o">+</span> <span class="n">old_domain</span> <span class="o">+</span> <span class="sh">'</span><span class="s">$</span><span class="sh">'</span>
  <span class="n">address</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">sub</span><span class="p">(</span><span class="n">old_domain_pattern</span><span class="p">,</span> <span class="n">new_domain</span><span class="p">,</span> <span class="n">address</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">address</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
  <span class="sh">"""</span><span class="s">Processes the list of emails, replacing any instances of the old domain with the new domain.</span><span class="sh">"""</span>
  <span class="n">old_domain</span><span class="p">,</span> <span class="n">new_domain</span> <span class="o">=</span> <span class="sh">'</span><span class="s">abc.edu</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">xyz.edu</span><span class="sh">'</span>
  <span class="n">csv_file_location</span> <span class="o">=</span> <span class="sh">'</span><span class="s">/home/&lt;student-lab-id&gt;/data/user_emails.csv</span><span class="sh">'</span>
  <span class="n">report_file</span> <span class="o">=</span> <span class="sh">'</span><span class="s">/home/&lt;student-lab-id&gt;/data</span><span class="sh">'</span> <span class="o">+</span> <span class="sh">'</span><span class="s">/updated_user_emails.csv</span><span class="sh">'</span>
  <span class="n">user_email_list</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="n">old_domain_email_list</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="n">new_domain_email_list</span> <span class="o">=</span> <span class="p">[]</span>

  <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">csv_file_location</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">user_data_list</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">csv</span><span class="p">.</span><span class="nf">reader</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
    <span class="n">user_email_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">user_data_list</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
    <span class="k">for</span> <span class="n">email_address</span> <span class="ow">in</span> <span class="n">user_email_list</span><span class="p">:</span>
      <span class="k">if</span> <span class="nf">contains_domain</span><span class="p">(</span><span class="n">email_address</span><span class="p">,</span> <span class="n">old_domain</span><span class="p">):</span>
  <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">report_file</span><span class="p">,</span> <span class="sh">'</span><span class="s">w+</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">output_file</span><span class="p">:</span>
    <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="nf">writer</span><span class="p">(</span><span class="n">output_file</span><span class="p">)</span>
    <span class="n">writer</span><span class="p">.</span><span class="nf">writerows</span><span class="p">(</span><span class="n">user_data_list</span><span class="p">)</span>
    <span class="n">output_file</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>

    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">report_file</span><span class="p">,</span> <span class="sh">'</span><span class="s">w+</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">output_file</span><span class="p">:</span>
    <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="nf">writer</span><span class="p">(</span><span class="n">output_file</span><span class="p">)</span>
    <span class="n">writer</span><span class="p">.</span><span class="nf">writerows</span><span class="p">(</span><span class="n">user_data_list</span><span class="p">)</span>
    <span class="n">output_file</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>

<span class="nf">main</span><span class="p">()</span>
</pre></div></div><p><img src="/assets/img/working-with-regular-expressions-1.png" alt="working-with-regular-expressions-1" /></p><p><img src="/assets/img/working-with-regular-expressions-2.png" alt="working-with-regular-expressions-2" /></p><p><img src="/assets/img/working-with-regular-expressions-3.png" alt="working-with-regular-expressions-3" /></p><p><img src="/assets/img/working-with-regular-expressions-4.png" alt="working-with-regular-expressions-4" /></p><p><img src="/assets/img/working-with-regular-expressions-5.png" alt="working-with-regular-expressions-5" /></p><p><img src="/assets/img/working-with-regular-expressions-6.png" alt="working-with-regular-expressions-6" /></p><h2 id="qwiklabs---working-with-log-files">Qwiklabs - Working With Log Files</h2><div class="language-python highlighter-rouge"><div class="highlight">class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="c1">#!/usr/bin/env python3
</span><span class="kn">import</span> <span class="n">sys</span>
<span class="kn">import</span> <span class="n">os</span>
<span class="kn">import</span> <span class="n">re</span>
<span class="k">def</span> <span class="nf">error_search</span><span class="p">(</span><span class="n">log_file</span><span class="p">):</span>
  <span class="n">error</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">What is the error? </span><span class="sh">"</span><span class="p">)</span>
  <span class="n">returned_errors</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">log_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">UTF-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">log</span> <span class="ow">in</span>  <span class="nb">file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">():</span>
      <span class="n">error_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">error</span><span class="sh">"</span><span class="p">]</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">error</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">'</span><span class="s"> </span><span class="sh">'</span><span class="p">))):</span>
        <span class="n">error_patterns</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sa">r</span><span class="sh">"</span><span class="s">{}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">error</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">'</span><span class="s"> </span><span class="sh">'</span><span class="p">)[</span><span class="n">i</span><span class="p">].</span><span class="nf">lower</span><span class="p">()))</span>
      <span class="k">if</span> <span class="nf">all</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="n">error_pattern</span><span class="p">,</span> <span class="n">log</span><span class="p">.</span><span class="nf">lower</span><span class="p">())</span> <span class="k">for</span> <span class="n">error_pattern</span> <span class="ow">in</span> <span class="n">error_patterns</span><span class="p">):</span>
        <span class="n">returned_errors</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">log</span><span class="p">)</span>
    <span class="nb">file</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
  <span class="k">return</span> <span class="n">returned_errors</span>
  
<span class="k">def</span> <span class="nf">file_output</span><span class="p">(</span><span class="n">returned_errors</span><span class="p">):</span>
  <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">expanduser</span><span class="p">(</span><span class="sh">'</span><span class="s">~</span><span class="sh">'</span><span class="p">)</span> <span class="o">+</span> <span class="sh">'</span><span class="s">/data/errors_found.log</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">returned_errors</span><span class="p">:</span>
      <span class="nb">file</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
    <span class="nb">file</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
  <span class="n">log_file</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
  <span class="n">returned_errors</span> <span class="o">=</span> <span class="nf">error_search</span><span class="p">(</span><span class="n">log_file</span><span class="p">)</span>
  <span class="nf">file_output</span><span class="p">(</span><span class="n">returned_errors</span><span class="p">)</span>
  <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/technical/">Technical</a>, <a href="/categories/automation/">Automation</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/technical/" class="post-tag no-text-decoration" >technical</a> <a href="/tags/it-automation/" class="post-tag no-text-decoration" >it automation</a> <a href="/tags/projects/" class="post-tag no-text-decoration" >projects</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted me-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=IT%20Automation%20With%20Python%20-%20Patrick%20Kyei&url=https%3A%2F%2Fpatrickkyei.com%2Fposts%2Fit-automation-with-python-coursera%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=IT%20Automation%20With%20Python%20-%20Patrick%20Kyei&u=https%3A%2F%2Fpatrickkyei.com%2Fposts%2Fit-automation-with-python-coursera%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=IT%20Automation%20With%20Python%20-%20Patrick%20Kyei&url=https%3A%2F%2Fpatrickkyei.com%2Fposts%2Fit-automation-with-python-coursera%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram" > <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fpatrickkyei.com%2Fposts%2Fit-automation-with-python-coursera%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin" > <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted" ><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recent Update</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/build-mental-mastery-part-2/">Build Mental Mastery II</a><li class="text-truncate lh-lg"> <a href="/posts/build-whatever-you-want-build-mental-mastery/">Build Mental Mastery</a><li class="text-truncate lh-lg"> <a href="/posts/7-punchlines-that-changed-my-life-and-might-change-yours/">7 punclines that changed my life and might change yours</a><li class="text-truncate lh-lg"> <a href="/posts/build-whatever-you-want/">Build Whatever You Want (Start Your Dream Company)</a><li class="text-truncate lh-lg"> <a href="/posts/how-to-become-productive-in-an-attention-sucking-society/">the creative hack to become more productive in an attention sucking society</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/letters/">letters</a> <a class="post-tag btn btn-outline-primary" href="/tags/business/">business</a> <a class="post-tag btn btn-outline-primary" href="/tags/learning/">learning</a> <a class="post-tag btn btn-outline-primary" href="/tags/mindset/">mindset</a> <a class="post-tag btn btn-outline-primary" href="/tags/growth/">growth</a> <a class="post-tag btn btn-outline-primary" href="/tags/curious/">curious</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a> <a class="post-tag btn btn-outline-primary" href="/tags/projects/">projects</a> <a class="post-tag btn btn-outline-primary" href="/tags/digital-economy/">digital economy</a> <a class="post-tag btn btn-outline-primary" href="/tags/personal-development/">personal development</a></div></section></div><section id="toc-wrapper" class="ps-0 pe-4"><h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/product-resource-links/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1630708500" data-df="ll" > Sep 3, 2021 </time><h4 class="pt-0 my-2">Product Resource Links</h4><div class="text-muted"><p> What is it? This is a collection of various materials and tools that I use every day in my work. It contains a lot of useful information gathered in one piece. It is an invaluable source of knowle...</p></div></div></a></article><article class="col"> <a href="/posts/google-project-management-capstone-project/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1647038100" data-df="ll" > Mar 11, 2022 </time><h4 class="pt-0 my-2">Project Management Capstone - Google With Coursera</h4><div class="text-muted"><p> The Learning Experience The application of information, skills, tools, and strategies to meet project requirements and accomplish the desired outcome is known as project management. Skills a Proj...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/google-project-management-capstone-project/" class="btn btn-outline-primary" aria-label="Older" ><p>Project Management Capstone - Google With Coursera</p></a> <a href="/posts/i-am-here/" class="btn btn-outline-primary" aria-label="Newer" ><p>Incase You Were Wondering, I Am Still Here</p></a></nav><div id="disqus_thread"><p class="text-center text-muted small">Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://patrickkyei.com/posts/it-automation-with-python-coursera/'; this.page.identifier = '/posts/it-automation-with-python-coursera/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver( function (entries) { if (entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://patrickkyei-com-1.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] } ); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* Disqus hasn't been loaded */ if (typeof DISQUS === 'undefined') { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } } if (document.querySelector('.mode-toggle')) { window.addEventListener('message', reloadDisqus); } </script><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p> Â© <time>2024</time> <a href="https://twitter.com/thepatrickkyei">Patrick Kyei</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/letters/">letters</a> <a class="post-tag btn btn-outline-primary" href="/tags/business/">business</a> <a class="post-tag btn btn-outline-primary" href="/tags/learning/">learning</a> <a class="post-tag btn btn-outline-primary" href="/tags/mindset/">mindset</a> <a class="post-tag btn btn-outline-primary" href="/tags/growth/">growth</a> <a class="post-tag btn btn-outline-primary" href="/tags/curious/">curious</a> <a class="post-tag btn btn-outline-primary" href="/tags/life/">life</a> <a class="post-tag btn btn-outline-primary" href="/tags/projects/">projects</a> <a class="post-tag btn btn-outline-primary" href="/tags/digital-economy/">digital economy</a> <a class="post-tag btn btn-outline-primary" href="/tags/personal-development/">personal development</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow" > <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask"></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.21.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/unregister.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-NTB6Q09WNM"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-NTB6Q09WNM'); }); </script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
